@{
    Layout = "~/Views/Shared/_LayoutMain.cshtml";

    // Fechas escritas directamente como cadenas
    var comunicados = new List<dynamic> {
        new { Id = 1, Titulo = "Apertura de Prácticas II-2025", FechaPublicacion = "25 de julio de 2025", FechaAplicacion = "5 de agosto de 2025", Descripcion = "Se abre oficialmente el proceso de matrícula para Prácticas Profesionales del ciclo II-2025. Consultar requisitos con el coordinador.", PublicadoPor = "coordinador_pp" },
        new { Id = 2, Titulo = "Entrega de Convenio Obligatorio", FechaPublicacion = "20 de julio de 2025", FechaAplicacion = "1 de agosto de 2025", Descripcion = "Todos los estudiantes deben entregar el convenio firmado por la empresa y el tutor antes del 1 de agosto.", PublicadoPor = "admin_pp" },
        new { Id = 3, Titulo = "Capacitación Inicial para Estudiantes", FechaPublicacion = "18 de julio de 2025", FechaAplicacion = "N/A", Descripcion = "El día 30 de julio se brindará una capacitación sobre lineamientos éticos y operativos de las prácticas profesionales.", PublicadoPor = "soporte_pp" }
    };
}

@section Styles {
    <style>
        .comunicados-wrapper {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        .comunicado-card {
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            padding: 1.5rem;
            margin-bottom: 2rem;
            height: 100%;
        }

            .comunicado-card h5 {
                color: #2D594D;
                font-weight: 600;
                min-height: 60px;
                text-align: center;
            }

            .comunicado-card p {
                margin: 0.2rem 0;
                color: #555;
                font-size: 0.95rem;
            }

        .btn-ver {
            background-color: #2D594D;
            color: white;
            border: none;
            padding: 0.6rem 1rem;
            border-radius: 6px;
            font-weight: 600;
            transition: background-color 0.3s;
        }

            .btn-ver:hover {
                background-color: #768C46;
            }

        .titulo-pagina {
            color: #2D594D;
            font-weight: bold;
            font-size: 2rem;
            text-align: center;
            margin-bottom: 2.5rem;
        }
    </style>
}

<div class="comunicados-wrapper">
    <h2 class="titulo-pagina">Comunicados de Prácticas Profesionales</h2>

    <div class="row">
        @foreach (var c in comunicados)
        {
            <div class="col-md-4 d-flex">
                <div class="comunicado-card w-100">
                    <p><strong>@c.Titulo</strong></p>
                    <p><strong>Publicado:</strong> "@c.FechaPublicacion"</p>
                    <button class="btn-ver mt-3" data-bs-toggle="modal" data-bs-target="#modalComunicado@c.Id">Abrir Comunicado</button>
                </div>
            </div>

            <!-- Modal -->
            <div class="modal fade" id="modalComunicado@c.Id" tabindex="-1" aria-labelledby="modalLabel@c.Id" aria-hidden="true">
                <div class="modal-dialog modal-lg">
                    <div class="modal-content" style="border-radius: 10px; background-color: #F2F2F2;">
                        <div class="modal-header" style="background-color: #2D594D; color: white; border-top-left-radius: 10px; border-top-right-radius: 10px;">
                            <h5 class="modal-title" id="modalLabel@c.Id">@c.Titulo</h5>
                        </div>
                        <div class="modal-body">
                            <p><strong style="color: #2D594D;">Descripción:</strong><br /> @c.Descripcion</p>
                            @if (c.FechaAplicacion != "N/A")
                            {
                                <p><strong style="color: #2D594D;">Fecha de Aplicación:</strong> "@c.FechaAplicacion"</p>
                            }
                            <p><strong style="color: #2D594D;">Fecha de Publicación:</strong> "@c.FechaPublicacion"</p>
                            <p><strong style="color: #2D594D;">Publicado por:</strong> @c.PublicadoPor</p>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
                        </div>
                    </div>
                </div>
            </div>
        }
    </div>
</div>
